<!DOCTYPE html>
<html>
<head>
    <title>Wine Origin Predictor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #4a0e0e; color: white; }
        .card { background: rgba(255,255,255,0.9); color: #333; }
    </style>
</head>
<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-6 card p-4 shadow-lg">
                <h2 class="text-center mb-4">üç∑ Wine Cultivator Analysis</h2>
                <form id="wineForm">
                    <div class="mb-3">
                        <label>Alcohol Content (%)</label>
                        <input type="number" step="0.1" id="alcohol" class="form-control" placeholder="e.g. 13.5" required>
                    </div>
                    <div class="mb-3">
                        <label>Malic Acid</label>
                        <input type="number" step="0.1" id="malic_acid" class="form-control" placeholder="e.g. 2.3" required>
                    </div>
                    <div class="mb-3">
                        <label>Ash Content</label>
                        <input type="number" step="0.1" id="ash" class="form-control" placeholder="e.g. 2.4" required>
                    </div>
                    <div class="mb-3">
                        <label>Alcalinity of Ash</label>
                        <input type="number" step="0.1" id="alcalinity" class="form-control" placeholder="e.g. 19.0" required>
                    </div>
                    <button type="submit" class="btn btn-danger w-100">Predict Origin</button>
                </form>
                
                <div id="result" class="mt-4 text-center d-none alert alert-dark">
                    <h4>Predicted Vineyard:</h4>
                    <h2 id="originText" class="text-danger"></h2>
                    <p id="confText" class="text-muted"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('wineForm').onsubmit = async (e) => {
            e.preventDefault();
            const res = await fetch('/predict', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    alcohol: document.getElementById('alcohol').value,
                    malic_acid: document.getElementById('malic_acid').value,
                    ash: document.getElementById('ash').value,
                    alcalinity: document.getElementById('alcalinity').value
                })
            });
            const data = await res.json();
            if(data.success) {
                document.getElementById('result').classList.remove('d-none');
                document.getElementById('originText').innerText = data.origin;
                document.getElementById('confText').innerText = "Model Confidence: " + data.confidence;
            }
        };
    </script>
</body>
</html>